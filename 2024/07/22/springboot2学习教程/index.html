<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="1. Spring Boot 介绍 什么是 Spring Boot 简介和背景 Spring Boot 的优势 Spring Boot 与 Spring Framework 的关系">
<meta property="og:type" content="article">
<meta property="og:title" content="springboot2学习教程">
<meta property="og:url" content="http://example.com/2024/07/22/springboot2%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:description" content="1. Spring Boot 介绍 什么是 Spring Boot 简介和背景 Spring Boot 的优势 Spring Boot 与 Spring Framework 的关系">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-07-22T09:46:56.000Z">
<meta property="article:modified_time" content="2024-07-22T09:56:16.708Z">
<meta property="article:author" content="june chiu">
<meta property="article:tag" content="后端">
<meta property="article:tag" content="springboot2">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2024/07/22/springboot2%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2024/07/22/springboot2%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/","path":"2024/07/22/springboot2学习教程/","title":"springboot2学习教程"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>springboot2学习教程 | 学习笔记</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">学习笔记</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">日常学习记录的笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-关于"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-标签"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-分类"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Spring-Boot-%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">1. Spring Boot 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">2.</span> <span class="nav-text">2. 开发环境搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA-Spring-Boot-%E5%BA%94%E7%94%A8"><span class="nav-number">3.</span> <span class="nav-text">3. 创建第一个 Spring Boot 应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Spring-Initializr-%E7%94%9F%E6%88%90%E9%A1%B9%E7%9B%AE"><span class="nav-number">3.1.</span> <span class="nav-text">使用 Spring Initializr 生成项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90"><span class="nav-number">3.2.</span> <span class="nav-text">项目结构解析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95%E7%9A%84-RESTful-API"><span class="nav-number">3.3.</span> <span class="nav-text">编写简单的 RESTful API</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Spring-Boot-%E6%A0%B8%E5%BF%83%E7%89%B9%E6%80%A7"><span class="nav-number">4.</span> <span class="nav-text">4. Spring Boot 核心特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">4.1.</span> <span class="nav-text">自动配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Spring-Boot-%E7%9A%84%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86"><span class="nav-number">4.1.1.</span> <span class="nav-text">Spring Boot 的自动配置原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#EnableAutoConfiguration-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">4.1.2.</span> <span class="nav-text">@EnableAutoConfiguration 注解的使用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">4.2.</span> <span class="nav-text">应用配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#application-properties-%E5%92%8C-application-yml"><span class="nav-number">4.2.1.</span> <span class="nav-text">application.properties 和 application.yml</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE"><span class="nav-number">4.2.2.</span> <span class="nav-text">自定义配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.</span> <span class="nav-text">常用配置示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Spring-Boot-%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="nav-number">5.</span> <span class="nav-text">5. Spring Boot 中的组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88Controller%EF%BC%89"><span class="nav-number">5.1.</span> <span class="nav-text">控制器（Controller）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#RestController-%E5%92%8C-Controller-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">5.1.1.</span> <span class="nav-text">@RestController 和 @Controller 的区别</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E4%B8%8E%E8%AF%B7%E6%B1%82%E6%98%A0%E5%B0%84%EF%BC%88-GetMapping-PostMapping-%E7%AD%89%EF%BC%89"><span class="nav-number">5.1.2.</span> <span class="nav-text">路由与请求映射（@GetMapping, @PostMapping 等）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%B1%82%EF%BC%88Service%EF%BC%89"><span class="nav-number">5.2.</span> <span class="nav-text">服务层（Service）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-number">5.2.1.</span> <span class="nav-text">业务逻辑的实现</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Service-%E6%B3%A8%E8%A7%A3"><span class="nav-number">5.2.2.</span> <span class="nav-text">使用 @Service 注解</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E5%B1%82%EF%BC%88Repository%EF%BC%89"><span class="nav-number">5.3.</span> <span class="nav-text">数据访问层（Repository）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Spring-Data-JPA-%E9%9B%86%E6%88%90"><span class="nav-number">5.3.1.</span> <span class="nav-text">Spring Data JPA 集成</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Repository-%E6%B3%A8%E8%A7%A3"><span class="nav-number">5.3.2.</span> <span class="nav-text">使用 @Repository 注解</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JPQL-%E5%92%8C%E5%8E%9F%E7%94%9F-SQL-%E6%9F%A5%E8%AF%A2"><span class="nav-number">5.3.3.</span> <span class="nav-text">JPQL 和原生 SQL 查询</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90"><span class="nav-number">6.</span> <span class="nav-text">6. 数据库集成</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Spring-Data-JPA"><span class="nav-number">6.1.</span> <span class="nav-text">1. Spring Data JPA</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#JPA-%E6%A6%82%E5%BF%B5%E4%B8%8E-Hibernate"><span class="nav-number">6.1.1.</span> <span class="nav-text">JPA 概念与 Hibernate</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%9A%E8%BF%87-Spring-Data-JPA-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="nav-number">6.1.2.</span> <span class="nav-text">通过 Spring Data JPA 进行数据库操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E6%98%A0%E5%B0%84"><span class="nav-number">6.1.3.</span> <span class="nav-text">实体类的定义与映射</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5"><span class="nav-number">6.2.</span> <span class="nav-text">2. 配置数据库连接</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#H2%E3%80%81MySQL%E3%80%81PostgreSQL-%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="nav-number">6.2.1.</span> <span class="nav-text">H2、MySQL、PostgreSQL 的配置与使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE"><span class="nav-number">6.2.2.</span> <span class="nav-text">数据源配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB"><span class="nav-number">6.3.</span> <span class="nav-text">3. 数据库迁移</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Flyway-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="nav-number">6.3.1.</span> <span class="nav-text">使用 Flyway 进行数据库版本管理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Liquibase-%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="nav-number">6.3.2.</span> <span class="nav-text">使用 Liquibase 进行数据库版本管理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E5%A4%84%E7%90%86%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94"><span class="nav-number">7.</span> <span class="nav-text">7. 处理请求和响应</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%AF%B9%E8%B1%A1%EF%BC%88DTO%EF%BC%89"><span class="nav-number">7.1.</span> <span class="nav-text">1. 数据传输对象（DTO）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%92%8C%E8%B7%AF%E5%BE%84%E5%8F%98%E9%87%8F"><span class="nav-number">7.2.</span> <span class="nav-text">2. 请求参数和路径变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%93%8D%E5%BA%94%E5%A4%84%E7%90%86"><span class="nav-number">7.3.</span> <span class="nav-text">3. 响应处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-Spring-Boot-%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="nav-number">8.</span> <span class="nav-text">8. Spring Boot 的安全性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Spring-Security-%E5%9F%BA%E7%A1%80"><span class="nav-number">8.1.</span> <span class="nav-text">1. Spring Security 基础</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83"><span class="nav-number">8.1.1.</span> <span class="nav-text">认证与授权</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE"><span class="nav-number">8.1.2.</span> <span class="nav-text">基本安全配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8-JWT-%E5%AE%9E%E7%8E%B0%E5%AE%89%E5%85%A8"><span class="nav-number">8.2.</span> <span class="nav-text">2. 使用 JWT 实现安全</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#JSON-Web-Token-%E5%8E%9F%E7%90%86"><span class="nav-number">8.2.1.</span> <span class="nav-text">JSON Web Token 原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Spring-Boot-%E9%9B%86%E6%88%90-JWT"><span class="nav-number">8.2.2.</span> <span class="nav-text">Spring Boot 集成 JWT</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Demo-%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84"><span class="nav-number">8.3.</span> <span class="nav-text">Demo 代码结构</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-Spring-Boot-%E5%92%8C%E5%89%8D%E7%AB%AF%E7%9A%84%E9%9B%86%E6%88%90"><span class="nav-number">9.</span> <span class="nav-text">9. Spring Boot 和前端的集成</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8-Thymeleaf"><span class="nav-number">9.1.</span> <span class="nav-text">1. 使用 Thymeleaf</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">9.1.1.</span> <span class="nav-text">模板引擎的基本使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%86%85%E5%AE%B9%E7%94%9F%E6%88%90"><span class="nav-number">9.1.2.</span> <span class="nav-text">动态内容生成</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-RESTful-API-%E5%92%8C%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6"><span class="nav-number">9.2.</span> <span class="nav-text">2. RESTful API 和前端框架</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-RESTful-API"><span class="nav-number">9.2.1.</span> <span class="nav-text">创建 RESTful API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9B%86%E6%88%90%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6"><span class="nav-number">9.2.2.</span> <span class="nav-text">集成前端框架</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-Spring-Boot-%E6%B5%8B%E8%AF%95"><span class="nav-number">10.</span> <span class="nav-text">10. Spring Boot 测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-Spring-Boot-%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">11.</span> <span class="nav-text">11. Spring Boot 的性能优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-Spring-Boot-%E7%9A%84%E9%83%A8%E7%BD%B2"><span class="nav-number">12.</span> <span class="nav-text">12. Spring Boot 的部署</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%89%93%E5%8C%85%E5%92%8C%E8%BF%90%E8%A1%8C"><span class="nav-number">12.1.</span> <span class="nav-text">1. 打包和运行</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#JAR-%E5%92%8C-WAR-%E5%8C%85%E7%9A%84%E6%89%93%E5%8C%85"><span class="nav-number">12.1.1.</span> <span class="nav-text">JAR 和 WAR 包的打包</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E7%8E%AF%E5%A2%83"><span class="nav-number">12.2.</span> <span class="nav-text">2. 部署到云环境</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#AWS"><span class="nav-number">12.2.1.</span> <span class="nav-text">AWS</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Azure"><span class="nav-number">12.2.2.</span> <span class="nav-text">Azure</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Heroku"><span class="nav-number">12.2.3.</span> <span class="nav-text">Heroku</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Docker-%E4%B8%8E-Spring-Boot"><span class="nav-number">12.3.</span> <span class="nav-text">3. Docker 与 Spring Boot</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Dockerfile"><span class="nav-number">12.3.1.</span> <span class="nav-text">创建 Dockerfile</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%8C%96-Spring-Boot-%E5%BA%94%E7%94%A8"><span class="nav-number">12.3.2.</span> <span class="nav-text">容器化 Spring Boot 应用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Docker-Compose%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="nav-number">12.3.3.</span> <span class="nav-text">使用 Docker Compose（可选）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="nav-number">13.</span> <span class="nav-text">13. 微服务架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE"><span class="nav-number">14.</span> <span class="nav-text">14. 实战项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90%E4%B8%8E%E7%A4%BE%E5%8C%BA"><span class="nav-number">15.</span> <span class="nav-text">15. 学习资源与社区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">16.</span> <span class="nav-text">总结</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">june chiu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/22/springboot2%E5%AD%A6%E4%B9%A0%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="june chiu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="springboot2学习教程 | 学习笔记">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          springboot2学习教程
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-07-22 17:46:56 / Modified: 17:56:16" itemprop="dateCreated datePublished" datetime="2024-07-22T17:46:56+08:00">2024-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">后端开发</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/SpringBoot2/" itemprop="url" rel="index"><span itemprop="name">SpringBoot2</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h3 id="1-Spring-Boot-介绍"><a href="#1-Spring-Boot-介绍" class="headerlink" title="1. Spring Boot 介绍"></a>1. Spring Boot 介绍</h3><ul>
<li><strong>什么是 Spring Boot</strong><ul>
<li>简介和背景</li>
<li>Spring Boot 的优势</li>
<li>Spring Boot 与 Spring Framework 的关系<span id="more"></span></li>
</ul>
</li>
<li><strong>Spring Boot 的特性</strong><ul>
<li>自动配置</li>
<li>微服务支持</li>
<li>嵌入式服务器</li>
<li>生产就绪特性</li>
</ul>
</li>
</ul>
<h3 id="2-开发环境搭建"><a href="#2-开发环境搭建" class="headerlink" title="2. 开发环境搭建"></a>2. 开发环境搭建</h3><ul>
<li><strong>JDK 安装与配置</strong></li>
<li><strong>IDE 选择与配置</strong><ul>
<li>IntelliJ IDEA</li>
<li>Eclipse</li>
</ul>
</li>
<li><strong>构建工具</strong><ul>
<li>Maven</li>
<li>Gradle</li>
</ul>
</li>
</ul>
<h3 id="3-创建第一个-Spring-Boot-应用"><a href="#3-创建第一个-Spring-Boot-应用" class="headerlink" title="3. 创建第一个 Spring Boot 应用"></a>3. 创建第一个 Spring Boot 应用</h3><h4 id="使用-Spring-Initializr-生成项目"><a href="#使用-Spring-Initializr-生成项目" class="headerlink" title="使用 Spring Initializr 生成项目"></a>使用 Spring Initializr 生成项目</h4><p><strong>Spring Initializr</strong> 是一个在线项目生成器，帮助开发者快速创建 Spring Boot 项目。</p>
<ol>
<li><p><strong>访问 Spring Initializr</strong></p>
<ul>
<li>打开浏览器，访问 <a target="_blank" rel="noopener" href="https://start.spring.io/">Spring Initializr</a></li>
</ul>
</li>
<li><p><strong>配置项目</strong></p>
<ul>
<li><strong>Project</strong>: 选择项目类型，一般选择 <strong>Maven Project</strong> 或 <strong>Gradle Project</strong>。Maven 是更常用的选择。</li>
<li><strong>Language</strong>: 选择编程语言，通常选择 <strong>Java</strong>。</li>
<li><strong>Spring Boot Version</strong>: 选择所需的 Spring Boot 版本，一般选择最新稳定版本。</li>
</ul>
</li>
<li><p><strong>填写项目信息</strong></p>
<ul>
<li><strong>Group</strong>: 输入项目的组织或公司名，例如 <code>com.example</code>。</li>
<li><strong>Artifact</strong>: 输入项目的名称，例如 <code>demo</code>。</li>
<li><strong>Name</strong>: 项目的名称，通常和 Artifact 相同。</li>
<li><strong>Description</strong>: 项目的描述，例如 <code>Demo project for Spring Boot</code>。</li>
<li><strong>Package Name</strong>: 默认情况下，会自动生成，通常与 Group 和 Artifact 结合。</li>
<li><strong>Packaging</strong>: 选择打包方式，通常选择 <code>Jar</code>。</li>
<li><strong>Java Version</strong>: 选择 Java 版本，建议使用 JDK 11 或更高版本。</li>
</ul>
</li>
<li><p><strong>选择依赖</strong></p>
<ul>
<li>在下方的 Dependencies 部分，添加项目所需的依赖。常见的依赖包括：<ul>
<li><strong>Spring Web</strong>: 用于构建 RESTful 应用的基础库。</li>
<li><strong>Spring Data JPA</strong>: 用于与数据库交互。</li>
<li><strong>H2 Database</strong>: 嵌入式数据库，用于开发和测试。</li>
<li><strong>Spring Boot DevTools</strong>: 提高开发效率的工具（可选）。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>生成项目</strong></p>
<ul>
<li>点击 “Generate” 按钮，下载生成的 ZIP 文件。</li>
<li>解压缩该文件到本地目录。</li>
</ul>
</li>
</ol>
<h4 id="项目结构解析"><a href="#项目结构解析" class="headerlink" title="项目结构解析"></a>项目结构解析</h4><p>当您解压缩 Spring Initializr 生成的项目时，您将看到以下基本的项目结构：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">demo</span></span><br><span class="line">│</span><br><span class="line">├── src</span><br><span class="line">│   ├── main</span><br><span class="line">│   │   ├── java</span><br><span class="line">│   │   │   └── com</span><br><span class="line">│   │   │       └── <span class="built_in">example</span></span><br><span class="line">│   │   │           └── <span class="built_in">demo</span></span><br><span class="line">│   │   │               └── DemoApplication.java</span><br><span class="line">│   │   └── resources</span><br><span class="line">│   │       ├── application.<span class="built_in">properties</span></span><br><span class="line">│   │       └── static</span><br><span class="line">│   └── test</span><br><span class="line">│       └── java</span><br><span class="line">│           └── com</span><br><span class="line">│               └── <span class="built_in">example</span></span><br><span class="line">│                   └── <span class="built_in">demo</span></span><br><span class="line">│                       └── DemoApplicationTests.java</span><br><span class="line">│</span><br><span class="line">├── pom.xml  （对于 Maven 项目）或 build.gradle（对于 Gradle 项目）</span><br><span class="line">└── README.md</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong><code>src/main/java</code></strong>: 存放 Java 源代码的目录。</p>
<ul>
<li><strong><code>com/example/demo</code></strong>: 包结构，按照约定组织代码。</li>
<li><strong><code>DemoApplication.java</code></strong>: Spring Boot 应用的入口，包含 <code>main</code> 方法。</li>
</ul>
</li>
<li><p><strong><code>src/main/resources</code></strong>: 存放资源文件的目录。</p>
<ul>
<li><strong><code>application.properties</code></strong>: Spring Boot 应用的配置文件。</li>
<li><strong><code>static</code></strong>: 用于存放静态资源（如 HTML、CSS、JS 等）的目录。</li>
</ul>
</li>
<li><p><strong><code>src/test/java</code></strong>: 存放测试代码的目录。</p>
</li>
<li><p><strong><code>pom.xml</code></strong>: Maven 项目的配置文件，定义了项目的依赖、插件等信息。</p>
</li>
</ul>
<h4 id="编写简单的-RESTful-API"><a href="#编写简单的-RESTful-API" class="headerlink" title="编写简单的 RESTful API"></a>编写简单的 RESTful API</h4><p>接下来，我们将编写一个简单的 RESTful API，该 API 提供对资源（如用户）的基本操作。</p>
<ol>
<li><p><strong>创建模型类（Model）</strong></p>
<ul>
<li>在 <code>src/main/java/com/example/demo</code> 下创建一个名为 <code>User.java</code> 的新文件：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(Long id, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>创建控制器（Controller）</strong></p>
<ul>
<li>创建一个名为 <code>UserController.java</code> 的新文件，用于处理用户请求：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;User&gt; userList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        userList.add(user);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>解释</strong>：<ul>
<li><code>@RestController</code>：这是一个特殊的控制器，返回的对象会被自动序列化为 JSON。</li>
<li><code>@RequestMapping(&quot;/users&quot;)</code>：定义基础 URL 路径为 <code>/users</code>。</li>
<li><code>@GetMapping</code>：处理 GET 请求，返回所有用户的信息。</li>
<li><code>@PostMapping</code>：处理 POST 请求，接受用户数据并将其添加到列表中。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>修改主应用类</strong></p>
<ul>
<li><code>DemoApplication.java</code> 通常不需要修改，但是确保它存在并包含 <code>main</code> 方法：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>运行应用程序</strong></p>
<ul>
<li>在 IDE 中运行 <code>DemoApplication</code> 类，Spring Boot 应用将启动并监听默认端口 8080。</li>
</ul>
</li>
<li><p><strong>测试 RESTful API</strong></p>
<ul>
<li>使用 Postman 或 curl 测试 API。</li>
<li><strong>获取所有用户</strong>：<ul>
<li>发送 GET 请求到 <code>http://localhost:8080/users</code>，返回空列表。</li>
</ul>
</li>
<li><strong>创建新用户</strong>：<ul>
<li>发送 POST 请求到 <code>http://localhost:8080/users</code>，请求体为：<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John Doe&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>发送后再次 GET 请求以查看用户列表。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="4-Spring-Boot-核心特性"><a href="#4-Spring-Boot-核心特性" class="headerlink" title="4. Spring Boot 核心特性"></a>4. Spring Boot 核心特性</h3><h4 id="自动配置"><a href="#自动配置" class="headerlink" title="自动配置"></a>自动配置</h4><p><strong>Spring Boot 的自动配置</strong> 是其最重要的特性之一，旨在简化 Spring 应用的配置，减少开发者的手动配置工作。</p>
<h5 id="Spring-Boot-的自动配置原理"><a href="#Spring-Boot-的自动配置原理" class="headerlink" title="Spring Boot 的自动配置原理"></a>Spring Boot 的自动配置原理</h5><ol>
<li><p><strong>条件配置</strong>:</p>
<ul>
<li>Spring Boot 使用了大量的“条件注解”来决定是否需要加载某些配置。例如，<code>@ConditionalOnClass</code>, <code>@ConditionalOnMissingBean</code>, <code>@ConditionalOnProperty</code> 等。</li>
<li>这些注解根据当前应用的类路径、已经存在的 Bean、配置属性等条件来决定是否启用特定的配置。</li>
</ul>
</li>
<li><p><strong><code>spring-boot-autoconfigure</code> 模块</strong>:</p>
<ul>
<li>Spring Boot 的自动配置主要通过 <code>spring-boot-autoconfigure</code> 模块实现。它包含许多自动配置类，每个类通常对应一个功能，例如 JDBC、Web、Security 等。</li>
<li>自动配置类通常以 <code>@Configuration</code> 注解标记，通过 <code>@EnableConfigurationProperties</code> 加载配置属性。</li>
</ul>
</li>
<li><p><strong>META-INF&#x2F;spring.factories</strong>:</p>
<ul>
<li>在自动配置模块的 JAR 包中，<code>META-INF/spring.factories</code> 文件列出了所有的自动配置类。Spring Boot 在启动时会扫描这个文件，并加载相关的配置。</li>
</ul>
</li>
</ol>
<h5 id="EnableAutoConfiguration-注解的使用"><a href="#EnableAutoConfiguration-注解的使用" class="headerlink" title="@EnableAutoConfiguration 注解的使用"></a><code>@EnableAutoConfiguration</code> 注解的使用</h5><ul>
<li><code>@EnableAutoConfiguration</code> 是一个非常重要的注解，通常在主类上使用。它告诉 Spring Boot 启用自动配置功能。</li>
<li>该注解通常与 <code>@SpringBootApplication</code> 一起使用，后者实际上是组合了三个注解：<ul>
<li><code>@Configuration</code>: 表示该类是一个配置类。</li>
<li><code>@EnableAutoConfiguration</code>: 启用自动配置。</li>
<li><code>@ComponentScan</code>: 自动扫描当前包及其子包中的组件。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(DemoApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="应用配置"><a href="#应用配置" class="headerlink" title="应用配置"></a>应用配置</h4><p>Spring Boot 支持多种方式进行配置，最常用的是 <code>application.properties</code> 和 <code>application.yml</code> 文件。</p>
<h5 id="application-properties-和-application-yml"><a href="#application-properties-和-application-yml" class="headerlink" title="application.properties 和 application.yml"></a><code>application.properties</code> 和 <code>application.yml</code></h5><ol>
<li><p><strong><code>application.properties</code></strong>:</p>
<ul>
<li>Spring Boot 默认会在 <code>src/main/resources</code> 目录下寻找 <code>application.properties</code> 文件。</li>
<li>常用配置示例：<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 服务器端口</span></span><br><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Spring 数据源配置</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mydb</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">root</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># JPA 配置</span></span><br><span class="line"><span class="attr">spring.jpa.hibernate.ddl-auto</span>=<span class="string">update</span></span><br><span class="line"><span class="attr">spring.jpa.show-sql</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 日志级别</span></span><br><span class="line"><span class="attr">logging.level.root</span>=<span class="string">INFO</span></span><br><span class="line"><span class="attr">logging.level.com.example.demo</span>=<span class="string">DEBUG</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong><code>application.yml</code></strong>:</p>
<ul>
<li><code>YAML</code> 是一种更易读的配置格式，Spring Boot 也支持 <code>application.yml</code>。</li>
<li>常用配置示例：<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mydb</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">INFO</span></span><br><span class="line">    <span class="attr">com.example.demo:</span> <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>选择配置文件</strong>:</p>
<ul>
<li>Spring Boot 会优先加载 <code>application.yml</code>，如果同时存在 <code>application.properties</code> 和 <code>application.yml</code>，则以 <code>application.yml</code> 为准。</li>
</ul>
</li>
</ol>
<h5 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h5><ol>
<li><p><strong>创建自定义配置类</strong>:</p>
<ul>
<li>在 Spring Boot 中，可以创建自定义配置类来加载特定的配置属性。</li>
<li>使用 <code>@ConfigurationProperties</code> 注解将配置属性映射到 Java 对象。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String version;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getVersion</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> version;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setVersion</span><span class="params">(String version)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.version = version;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>在配置文件中定义属性</strong>:</p>
<ul>
<li>然后在 <code>application.properties</code> 或 <code>application.yml</code> 文件中定义这些属性：</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app.name</span>=<span class="string">My Application</span></span><br><span class="line"><span class="attr">app.version</span>=<span class="string">1.0.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>使用自定义配置</strong>:</p>
<ul>
<li>可以在需要的地方注入 <code>AppConfig</code> 类，并使用其属性：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InfoController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AppConfig appConfig;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/info&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;App Name: &quot;</span> + appConfig.getName() + <span class="string">&quot;, Version: &quot;</span> + appConfig.getVersion();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="常用配置示例"><a href="#常用配置示例" class="headerlink" title="常用配置示例"></a>常用配置示例</h4><p>以下是一些常见的 Spring Boot 配置项的详细说明：</p>
<ul>
<li><p><strong>服务器配置</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8080               # 设置服务器端口</span></span><br><span class="line"><span class="attr">server.servlet.context-path</span>=<span class="string">/api # 设置上下文路径</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>数据源配置</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mydb  # 数据库连接 URL</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root                            # 数据库用户名</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">root                            # 数据库密码</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver # JDBC 驱动</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>JPA 和 Hibernate 配置</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.jpa.hibernate.ddl-auto</span>=<span class="string">update  # 设置数据库架构自动更新</span></span><br><span class="line"><span class="attr">spring.jpa.show-sql</span>=<span class="string">true                # 显示 SQL 查询</span></span><br><span class="line"><span class="attr">spring.jpa.properties.hibernate.format_sql</span>=<span class="string">true # 格式化 SQL</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>日志配置</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging.level.root</span>=<span class="string">INFO                 # 设置根日志级别</span></span><br><span class="line"><span class="attr">logging.level.com.example.demo</span>=<span class="string">DEBUG     # 设置特定包的日志级别</span></span><br><span class="line"><span class="attr">logging.file.name</span>=<span class="string">app.log                # 输出日志文件名称</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Spring Security 配置</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.security.user.name</span>=<span class="string">admin          # 默认用户名</span></span><br><span class="line"><span class="attr">spring.security.user.password</span>=<span class="string">admin123    # 默认密码</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-Spring-Boot-中的组件"><a href="#5-Spring-Boot-中的组件" class="headerlink" title="5. Spring Boot 中的组件"></a>5. Spring Boot 中的组件</h3><p>在 Spring Boot 应用中，通常会按照分层架构来组织代码，主要有控制器（Controller）、服务层（Service）和数据访问层（Repository）。以下是各个组件的详细讲解。</p>
<h4 id="控制器（Controller）"><a href="#控制器（Controller）" class="headerlink" title="控制器（Controller）"></a>控制器（Controller）</h4><p>控制器是处理 HTTP 请求的核心组件，负责接收请求并返回响应。</p>
<h5 id="RestController-和-Controller-的区别"><a href="#RestController-和-Controller-的区别" class="headerlink" title="@RestController 和 @Controller 的区别"></a><code>@RestController</code> 和 <code>@Controller</code> 的区别</h5><ul>
<li><strong><code>@Controller</code></strong>:<ul>
<li>主要用于处理 Web 请求。它将返回的视图名称（通常是 JSP 或 Thymeleaf 模板）传递给视图解析器。</li>
<li>适用于传统的基于视图的 Web 应用。</li>
</ul>
</li>
<li><strong><code>@RestController</code></strong>:<ul>
<li><code>@RestController</code> 是 <code>@Controller</code> 和 <code>@ResponseBody</code> 的组合注解。它表示该类中的每个方法的返回值将自动序列化成 JSON 或 XML 格式，直接返回给客户端。</li>
<li>适用于 RESTful API 开发。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/users&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Returning user list&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="路由与请求映射（-GetMapping-PostMapping-等）"><a href="#路由与请求映射（-GetMapping-PostMapping-等）" class="headerlink" title="路由与请求映射（@GetMapping, @PostMapping 等）"></a>路由与请求映射（<code>@GetMapping</code>, <code>@PostMapping</code> 等）</h5><ul>
<li>Spring 提供了一系列注解用于处理不同类型的 HTTP 请求：<ul>
<li><strong><code>@GetMapping</code></strong>: 处理 GET 请求。</li>
<li><strong><code>@PostMapping</code></strong>: 处理 POST 请求。</li>
<li><strong><code>@PutMapping</code></strong>: 处理 PUT 请求。</li>
<li><strong><code>@DeleteMapping</code></strong>: 处理 DELETE 请求。</li>
<li><strong><code>@RequestMapping</code></strong>: 通用注解，可用于定义请求路径和请求方法。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 返回用户列表</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建用户</span></span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="服务层（Service）"><a href="#服务层（Service）" class="headerlink" title="服务层（Service）"></a>服务层（Service）</h4><p>服务层主要负责业务逻辑的实现，通常会通过注入的方式连接控制器和数据访问层。</p>
<h5 id="业务逻辑的实现"><a href="#业务逻辑的实现" class="headerlink" title="业务逻辑的实现"></a>业务逻辑的实现</h5><p>服务层通常包含多个方法，这些方法处理特定的业务逻辑，例如：</p>
<ul>
<li>数据验证</li>
<li>调用数据访问层获取或存储数据</li>
<li>处理业务规则等</li>
</ul>
<h5 id="使用-Service-注解"><a href="#使用-Service-注解" class="headerlink" title="使用 @Service 注解"></a>使用 <code>@Service</code> 注解</h5><ul>
<li><code>@Service</code> 注解用于标识服务层的组件。它的使用方式与 <code>@Component</code> 类似，可以让 Spring 容器识别该类并进行管理。</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">findUserById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="comment">// 业务逻辑，查找用户</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(id, <span class="string">&quot;Sample User&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="数据访问层（Repository）"><a href="#数据访问层（Repository）" class="headerlink" title="数据访问层（Repository）"></a>数据访问层（Repository）</h4><p>数据访问层负责与数据库交互，通常使用 Spring Data JPA 来简化数据访问。</p>
<h5 id="Spring-Data-JPA-集成"><a href="#Spring-Data-JPA-集成" class="headerlink" title="Spring Data JPA 集成"></a>Spring Data JPA 集成</h5><p>Spring Data JPA 是 Spring 的一个模块，提供了一种快速访问数据库的方法。通过定义接口，可以轻松实现 CRUD 操作，而无需编写复杂的 SQL 代码。</p>
<h5 id="使用-Repository-注解"><a href="#使用-Repository-注解" class="headerlink" title="使用 @Repository 注解"></a>使用 <code>@Repository</code> 注解</h5><ul>
<li><code>@Repository</code> 注解用于标识数据访问层的组件。它的主要作用是:<ul>
<li>将异常转换为 Spring 的数据访问异常。</li>
<li>让 Spring 容器识别该类并进行管理。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserRepository</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;User, Long&gt; &#123;</span><br><span class="line">    User <span class="title function_">findByName</span><span class="params">(String name)</span>; <span class="comment">// 自定义查询方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="JPQL-和原生-SQL-查询"><a href="#JPQL-和原生-SQL-查询" class="headerlink" title="JPQL 和原生 SQL 查询"></a>JPQL 和原生 SQL 查询</h5><ul>
<li><strong>JPQL (Java Persistence Query Language)</strong>:<ul>
<li>JPQL 是针对 JPA 的对象查询语言。它与 SQL 的不同之处在于，JPQL 是基于实体对象进行查询。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.PersistenceContext;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.TypedQuery;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserRepository</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PersistenceContext</span></span><br><span class="line">    <span class="keyword">private</span> EntityManager entityManager;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAllUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        TypedQuery&lt;User&gt; query = entityManager.createQuery(<span class="string">&quot;SELECT u FROM User u&quot;</span>, User.class);</span><br><span class="line">        <span class="keyword">return</span> query.getResultList();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>原生 SQL 查询</strong>:<ul>
<li>如果需要执行某些特定的 SQL 查询，可以使用 <code>@Query</code> 注解来编写原生 SQL 查询。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.Query;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.repository.query.Param;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserRepository</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;User, Long&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query(value = &quot;SELECT * FROM users WHERE name = :name&quot;, nativeQuery = true)</span></span><br><span class="line">    User <span class="title function_">findUserByName</span><span class="params">(<span class="meta">@Param(&quot;name&quot;)</span> String name)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-数据库集成"><a href="#6-数据库集成" class="headerlink" title="6. 数据库集成"></a>6. 数据库集成</h3><p>在 Spring Boot 中，数据库集成是应用开发的重要组成部分。通过 Spring Data JPA，开发者可以方便地与数据库进行交互，同时支持多种数据库的配置与管理。以下是对数据库集成的详细讲解。</p>
<h4 id="1-Spring-Data-JPA"><a href="#1-Spring-Data-JPA" class="headerlink" title="1. Spring Data JPA"></a>1. Spring Data JPA</h4><h5 id="JPA-概念与-Hibernate"><a href="#JPA-概念与-Hibernate" class="headerlink" title="JPA 概念与 Hibernate"></a>JPA 概念与 Hibernate</h5><ul>
<li><p><strong>JPA (Java Persistence API)</strong>:</p>
<ul>
<li>JPA 是 Java EE 的一种规范，定义了对象关系映射（ORM）的标准接口，使得 Java 对象能够与关系数据库之间进行映射和交互。</li>
<li>JPA 不直接实现数据库操作，而是通过实现 JPA 的 ORM 框架来实现，Hibernate 是其中最流行的实现之一。</li>
</ul>
</li>
<li><p><strong>Hibernate</strong>:</p>
<ul>
<li>Hibernate 是一种开源的 ORM 框架，它实现了 JPA 规范，并提供了更丰富的功能，如缓存、懒加载、批量操作等。</li>
<li>Hibernate 允许开发者通过 Java 对象操作数据库，简化了数据库交互的复杂性。</li>
</ul>
</li>
</ul>
<h5 id="通过-Spring-Data-JPA-进行数据库操作"><a href="#通过-Spring-Data-JPA-进行数据库操作" class="headerlink" title="通过 Spring Data JPA 进行数据库操作"></a>通过 Spring Data JPA 进行数据库操作</h5><p>Spring Data JPA 提供了一种快速访问数据库的方法，允许开发者通过定义接口来完成 CRUD 操作，而无需编写复杂的 SQL 代码。</p>
<ul>
<li><strong>基本操作</strong>:<ul>
<li>创建一个接口继承 <code>JpaRepository</code>，可以直接使用 Spring Data JPA 提供的基本操作。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserRepository</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;User, Long&gt; &#123;</span><br><span class="line">    User <span class="title function_">findByEmail</span><span class="params">(String email)</span>; <span class="comment">// 自定义查询方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>CRUD 方法</strong>:<ul>
<li><code>save()</code>: 保存实体（插入或更新）。</li>
<li><code>findById()</code>: 根据 ID 查找实体。</li>
<li><code>findAll()</code>: 查找所有实体。</li>
<li><code>delete()</code>: 删除实体。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getAllUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getUserById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findById(id).orElse(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        userRepository.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="实体类的定义与映射"><a href="#实体类的定义与映射" class="headerlink" title="实体类的定义与映射"></a>实体类的定义与映射</h5><ul>
<li><strong>实体类</strong>:<ul>
<li>实体类是与数据库表直接映射的 Java 类，通常使用 <code>@Entity</code> 注解标记。实体类的属性对应数据库表的列。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;users&quot;)</span> <span class="comment">// 指定数据库表名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span> <span class="comment">// 主键生成策略</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>映射关系</strong>:<ul>
<li>JPA 支持多种关系的映射，如一对一（@OneToOne）、一对多（@OneToMany）、多对一（@ManyToOne）、多对多（@ManyToMany）等。</li>
</ul>
</li>
</ul>
<p><strong>示例</strong>（一对多关系）:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Post</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ManyToOne</span></span><br><span class="line">    <span class="meta">@JoinColumn(name = &quot;user_id&quot;, nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> User user; <span class="comment">// 该帖子的作者</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-配置数据库连接"><a href="#2-配置数据库连接" class="headerlink" title="2. 配置数据库连接"></a>2. 配置数据库连接</h4><p>在 Spring Boot 应用中，可以通过配置文件来设置数据库连接。</p>
<h5 id="H2、MySQL、PostgreSQL-的配置与使用"><a href="#H2、MySQL、PostgreSQL-的配置与使用" class="headerlink" title="H2、MySQL、PostgreSQL 的配置与使用"></a>H2、MySQL、PostgreSQL 的配置与使用</h5><ul>
<li><strong>H2 数据库</strong>: 一个轻量级的关系数据库，适合开发和测试。</li>
<li><strong>MySQL 数据库</strong>: 常用的开源关系数据库。</li>
<li><strong>PostgreSQL 数据库</strong>: 高性能的开源对象关系数据库。</li>
</ul>
<p><strong>示例</strong>: <code>application.properties</code> 配置</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># H2 数据库配置</span></span><br><span class="line"><span class="attr">spring.h2.console.enabled</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:h2:mem:testdb</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">org.h2.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">sa</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># MySQL 数据库配置</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mydb?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">root</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># PostgreSQL 数据库配置</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:postgresql://localhost:5432/mydb</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">org.postgresql.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">postgres</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">postgres</span></span><br></pre></td></tr></table></figure>

<h5 id="数据源配置"><a href="#数据源配置" class="headerlink" title="数据源配置"></a>数据源配置</h5><p>除了基本的 URL、用户名和密码外，还可以配置连接池、连接数、超时等设置。</p>
<p><strong>示例</strong>:</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数据源连接池配置</span></span><br><span class="line"><span class="attr">spring.datasource.hikari.maximum-pool-size</span>=<span class="string">10</span></span><br><span class="line"><span class="attr">spring.datasource.hikari.minimum-idle</span>=<span class="string">5</span></span><br><span class="line"><span class="attr">spring.datasource.hikari.connection-timeout</span>=<span class="string">30000</span></span><br></pre></td></tr></table></figure>

<h4 id="3-数据库迁移"><a href="#3-数据库迁移" class="headerlink" title="3. 数据库迁移"></a>3. 数据库迁移</h4><p>数据库迁移是指在数据库架构或数据变化时，管理和应用这些变化的过程。常用的工具有 Flyway 和 Liquibase。</p>
<h5 id="使用-Flyway-进行数据库版本管理"><a href="#使用-Flyway-进行数据库版本管理" class="headerlink" title="使用 Flyway 进行数据库版本管理"></a>使用 Flyway 进行数据库版本管理</h5><ul>
<li><strong>Flyway</strong>: 一个开源的数据库迁移工具，通过 SQL 脚本或 Java 代码来管理数据库的版本。</li>
</ul>
<p><strong>配置 Flyway</strong>:</p>
<ol>
<li>添加依赖：</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.flywaydb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flyway-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建迁移脚本：在 <code>src/main/resources/db/migration</code> 目录下创建 SQL 文件，命名格式为 <code>V1__Initial.sql</code>。</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> users (</span><br><span class="line">    id <span class="type">BIGINT</span> AUTO_INCREMENT <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">    email <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">UNIQUE</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>运行应用：Flyway 会自动检测并执行未应用的迁移脚本。</li>
</ol>
<h5 id="使用-Liquibase-进行数据库版本管理"><a href="#使用-Liquibase-进行数据库版本管理" class="headerlink" title="使用 Liquibase 进行数据库版本管理"></a>使用 Liquibase 进行数据库版本管理</h5><ul>
<li><strong>Liquibase</strong>: 另一个开源的数据库版本控制工具，通过 XML、YAML、JSON 或 SQL 文件定义数据库变更。</li>
</ul>
<p><strong>配置 Liquibase</strong>:</p>
<ol>
<li>添加依赖：</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.liquibase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>liquibase-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建变更日志文件：在 <code>src/main/resources</code> 下创建 <code>db.changelog-master.xml</code>。</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">databaseChangeLog</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.liquibase.org/xml/ns/dbchangelog</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">changeSet</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">author</span>=<span class="string">&quot;author&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">createTable</span> <span class="attr">tableName</span>=<span class="string">&quot;users&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">type</span>=<span class="string">&quot;BIGINT&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">autoIncrement</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">constraints</span> <span class="attr">primaryKey</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">type</span>=<span class="string">&quot;VARCHAR(100)&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">type</span>=<span class="string">&quot;VARCHAR(100)&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">constraints</span> <span class="attr">unique</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">column</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">createTable</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">changeSet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">databaseChangeLog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>运行应用：Liquibase 会在启动时自动执行变更日志。</li>
</ol>
<h3 id="7-处理请求和响应"><a href="#7-处理请求和响应" class="headerlink" title="7. 处理请求和响应"></a>7. 处理请求和响应</h3><p>在 Spring Boot 应用中，处理请求和响应是核心功能之一。通过定义数据传输对象（DTO）、处理请求参数和路径变量、以及自定义响应结构和错误处理，可以构建灵活且高效的 RESTful API。以下是这一部分的详细讲解。</p>
<h4 id="1-数据传输对象（DTO）"><a href="#1-数据传输对象（DTO）" class="headerlink" title="1. 数据传输对象（DTO）"></a>1. 数据传输对象（DTO）</h4><p><strong>概念</strong>:</p>
<ul>
<li>DTO（Data Transfer Object）是用于传输数据的对象，通常用于在客户端和服务器之间传递数据。DTO 主要用于封装数据，以避免直接暴露实体对象给外部系统，从而提高安全性和灵活性。</li>
</ul>
<p><strong>用途</strong>:</p>
<ul>
<li>限制返回数据的字段（只返回客户端需要的字段）。</li>
<li>避免冗余数据，减少网络传输负担。</li>
<li>为不同操作（如创建、更新）定义不同的结构。</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDTO</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>在控制器中的使用</strong>:</p>
<p>控制器方法可以接收和返回 DTO，而不是直接使用实体类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> UserDTO <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> UserDTO userDTO)</span> &#123;</span><br><span class="line">        <span class="comment">// 将 DTO 转换为实体类并保存</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setName(userDTO.getName());</span><br><span class="line">        user.setEmail(userDTO.getEmail());</span><br><span class="line">        userService.createUser(user);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> userDTO; <span class="comment">// 返回 DTO</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-请求参数和路径变量"><a href="#2-请求参数和路径变量" class="headerlink" title="2. 请求参数和路径变量"></a>2. 请求参数和路径变量</h4><p><strong>请求参数</strong>:</p>
<ul>
<li>请求参数是通过 URL 查询字符串传递的参数，通常用来过滤或修改请求的行为。</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span></span><br><span class="line"><span class="keyword">public</span> List&lt;UserDTO&gt; <span class="title function_">getUsers</span><span class="params">(<span class="meta">@RequestParam(required = false)</span> String name)</span> &#123;</span><br><span class="line">    List&lt;User&gt; users = userService.findByName(name);</span><br><span class="line">    <span class="keyword">return</span> users.stream().map(<span class="built_in">this</span>::convertToDTO).collect(Collectors.toList());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>路径变量</strong>:</p>
<ul>
<li>路径变量是 URL 路径的一部分，通常用于标识特定资源。</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> UserDTO <span class="title function_">getUserById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.findUserById(id);</span><br><span class="line">    <span class="keyword">return</span> convertToDTO(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-响应处理"><a href="#3-响应处理" class="headerlink" title="3. 响应处理"></a>3. 响应处理</h4><p><strong>自定义响应结构</strong>:</p>
<ul>
<li>可以通过创建一个统一的响应类来封装 API 的响应结构。</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ApiResponse</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> success;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ApiResponse</span><span class="params">(String message, T data, <span class="type">boolean</span> success)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="built_in">this</span>.success = success;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSuccess</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>在控制器中使用自定义响应</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> ApiResponse&lt;UserDTO&gt; <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> UserDTO userDTO)</span> &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(userDTO.getName());</span><br><span class="line">    user.setEmail(userDTO.getEmail());</span><br><span class="line">    userService.createUser(user);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="string">&quot;User created successfully&quot;</span>, userDTO, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>错误处理</strong>:</p>
<ul>
<li>在 RESTful API 中，处理错误响应是非常重要的。可以通过 <code>@ControllerAdvice</code> 来实现全局异常处理。</li>
</ul>
<p><strong>示例</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(UserNotFoundException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;String&gt;&gt; <span class="title function_">handleUserNotFound</span><span class="params">(UserNotFoundException ex)</span> &#123;</span><br><span class="line">        ApiResponse&lt;String&gt; response = <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(ex.getMessage(), <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.NOT_FOUND).body(response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;ApiResponse&lt;String&gt;&gt; <span class="title function_">handleGlobalException</span><span class="params">(Exception ex)</span> &#123;</span><br><span class="line">        ApiResponse&lt;String&gt; response = <span class="keyword">new</span> <span class="title class_">ApiResponse</span>&lt;&gt;(<span class="string">&quot;Internal Server Error&quot;</span>, <span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-Spring-Boot-的安全性"><a href="#8-Spring-Boot-的安全性" class="headerlink" title="8. Spring Boot 的安全性"></a>8. Spring Boot 的安全性</h3><p>在现代应用中，安全性是至关重要的。Spring Boot 提供了强大的安全框架 Spring Security，允许开发者轻松实现认证和授权机制。通过 JSON Web Token（JWT），可以实现无状态的身份验证和安全性，这对微服务架构尤其重要。以下是对 Spring Boot 安全性以及 JWT 实现的详细讲解。</p>
<h4 id="1-Spring-Security-基础"><a href="#1-Spring-Security-基础" class="headerlink" title="1. Spring Security 基础"></a>1. Spring Security 基础</h4><h5 id="认证与授权"><a href="#认证与授权" class="headerlink" title="认证与授权"></a>认证与授权</h5><ul>
<li><strong>认证（Authentication）</strong>: 验证用户的身份，确保用户是他们声称的那个人。常用的认证方式包括用户名和密码、OAuth、SAML 等。</li>
<li><strong>授权（Authorization）</strong>: 确定用户是否有权访问特定资源或执行特定操作。授权通常基于角色或权限。</li>
</ul>
<h5 id="基本安全配置"><a href="#基本安全配置" class="headerlink" title="基本安全配置"></a>基本安全配置</h5><p>要在 Spring Boot 应用中启用基本的安全性，可以使用 Spring Security 提供的机制。以下是基本的配置步骤。</p>
<p><strong>依赖</strong>:</p>
<p>首先，在 <code>pom.xml</code> 中添加 Spring Security 依赖。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>配置类</strong>:</p>
<p>创建一个安全配置类，扩展 <code>WebSecurityConfigurerAdapter</code>，并重写 <code>configure</code> 方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> <span class="keyword">extends</span> <span class="title class_">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .csrf().disable() <span class="comment">// 禁用 CSRF 保护（在 API 中不常用）</span></span><br><span class="line">            .authorizeRequests()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/api/public/**&quot;</span>).permitAll() <span class="comment">// 允许所有人访问 /api/public/**</span></span><br><span class="line">            .anyRequest().authenticated() <span class="comment">// 其他所有请求需要认证</span></span><br><span class="line">            .and()</span><br><span class="line">            .httpBasic(); <span class="comment">// 使用基本认证</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-使用-JWT-实现安全"><a href="#2-使用-JWT-实现安全" class="headerlink" title="2. 使用 JWT 实现安全"></a>2. 使用 JWT 实现安全</h4><h5 id="JSON-Web-Token-原理"><a href="#JSON-Web-Token-原理" class="headerlink" title="JSON Web Token 原理"></a>JSON Web Token 原理</h5><ul>
<li><p><strong>JWT</strong>: 是一种开放标准（RFC 7519），用于在网络应用环境之间以 JSON 对象安全地传递信息。JWT 可以包含用户的身份信息和权限信息，并且可以被签名和验证。</p>
</li>
<li><p><strong>结构</strong>: JWT 包含三个部分：</p>
<ol>
<li><strong>头部（Header）</strong>: 通常包含令牌的类型（JWT）和所使用的签名算法。</li>
<li><strong>有效载荷（Payload）</strong>: 包含声明（claims），即用户信息（如用户 ID、角色等）。</li>
<li><strong>签名（Signature）</strong>: 通过头部和有效载荷及密钥进行加密生成的字符串，用于验证令牌的真实性。</li>
</ol>
</li>
</ul>
<h5 id="Spring-Boot-集成-JWT"><a href="#Spring-Boot-集成-JWT" class="headerlink" title="Spring Boot 集成 JWT"></a>Spring Boot 集成 JWT</h5><p>下面是如何在 Spring Boot 中实现 JWT 的步骤。</p>
<p><strong>依赖</strong>:</p>
<p>在 <code>pom.xml</code> 中添加 JWT 依赖。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>JWT 工具类</strong>:</p>
<p>创建一个 JWT 工具类，用于生成和验证 JWT。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Claims;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.JwtBuilder;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Jwts;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.SignatureAlgorithm;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SECRET_KEY</span> <span class="operator">=</span> <span class="string">&quot;mysecretkey&quot;</span>; <span class="comment">// 密钥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">EXPIRATION_TIME</span> <span class="operator">=</span> <span class="number">86400000</span>; <span class="comment">// 过期时间 1 天</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成 JWT</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">generateToken</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        Map&lt;String, Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> createToken(claims, username);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">createToken</span><span class="params">(Map&lt;String, Object&gt; claims, String subject)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.builder()</span><br><span class="line">                .setClaims(claims)</span><br><span class="line">                .setSubject(subject)</span><br><span class="line">                .setIssuedAt(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis()))</span><br><span class="line">                .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + EXPIRATION_TIME))</span><br><span class="line">                .signWith(SignatureAlgorithm.HS256, SECRET_KEY)</span><br><span class="line">                .compact();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 验证 JWT</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateToken</span><span class="params">(String token, String username)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">extractedUsername</span> <span class="operator">=</span> extractUsername(token);</span><br><span class="line">        <span class="keyword">return</span> (extractedUsername.equals(username) &amp;&amp; !isTokenExpired(token));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 从 token 中提取用户名</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">extractUsername</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> extractAllClaims(token).getSubject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查 token 是否过期</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isTokenExpired</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> extractAllClaims(token).getExpiration().before(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提取所有声明</span></span><br><span class="line">    <span class="keyword">private</span> Claims <span class="title function_">extractAllClaims</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>认证过滤器</strong>:</p>
<p>创建一个 JWT 过滤器，用于在请求中提取和验证 JWT。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.core.context.SecurityContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.web.authentication.WebAuthenticationFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtRequestFilter</span> <span class="keyword">extends</span> <span class="title class_">WebAuthenticationFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtUtil jwtUtil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">authorizationHeader</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">jwt</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (authorizationHeader != <span class="literal">null</span> &amp;&amp; authorizationHeader.startsWith(<span class="string">&quot;Bearer &quot;</span>)) &#123;</span><br><span class="line">            jwt = authorizationHeader.substring(<span class="number">7</span>);</span><br><span class="line">            username = jwtUtil.extractUsername(jwt);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (username != <span class="literal">null</span> &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 这里可以根据用户名加载用户的权限，简化处理不做</span></span><br><span class="line">            <span class="type">UsernamePasswordAuthenticationToken</span> <span class="variable">authenticationToken</span> <span class="operator">=</span> </span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">UsernamePasswordAuthenticationToken</span>(username, <span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">            SecurityContextHolder.getContext().setAuthentication(authenticationToken);</span><br><span class="line">        &#125;</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>安全配置中添加过滤器</strong>:</p>
<p>在安全配置类中注册 JWT 过滤器。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.http.SessionCreationPolicy;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfig</span> <span class="keyword">extends</span> <span class="title class_">WebSecurityConfigurerAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtRequestFilter jwtRequestFilter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        http</span><br><span class="line">            .csrf().disable()</span><br><span class="line">            .authorizeRequests()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/api/auth/**&quot;</span>).permitAll() <span class="comment">// 允许访问身份验证的端点</span></span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS); <span class="comment">// 无状态</span></span><br><span class="line"></span><br><span class="line">        http.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class); <span class="comment">// 之前添加过滤器</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>控制器</strong>:</p>
<p>创建一个身份验证控制器，允许用户登录并获取 JWT。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/auth&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtUtil jwtUtil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> AuthRequest authRequest)</span> &#123;</span><br><span class="line">        <span class="comment">// 这里应该验证用户名和密码</span></span><br><span class="line">        <span class="comment">// 由于示例省略，假设验证成功</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> jwtUtil.generateToken(authRequest.getUsername());</span><br><span class="line">        <span class="keyword">return</span> token; <span class="comment">// 返回 JWT</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>用户认证请求 DTO</strong>:</p>
<p>创建一个简单的 DTO 用于接收认证请求。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthRequest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter 和 Setter</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Demo-代码结构"><a href="#Demo-代码结构" class="headerlink" title="Demo 代码结构"></a>Demo 代码结构</h4><ul>
<li><code>src/main/java/com/example/demo</code><ul>
<li><code>DemoApplication.java</code> (主应用)</li>
<li><code>config</code><ul>
<li><code>SecurityConfig.java</code> (安全配置类)</li>
</ul>
</li>
<li><code>controller</code><ul>
<li><code>AuthController.java</code> (身份验证控制器)</li>
</ul>
</li>
<li><code>filter</code><ul>
<li><code>JwtRequestFilter.java</code> (JWT 过滤器)</li>
</ul>
</li>
<li><code>util</code><ul>
<li><code>JwtUtil.java</code> (JWT 工具类)</li>
</ul>
</li>
<li><code>dto</code><ul>
<li><code>AuthRequest.java</code> (请求 DTO)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="9-Spring-Boot-和前端的集成"><a href="#9-Spring-Boot-和前端的集成" class="headerlink" title="9. Spring Boot 和前端的集成"></a>9. Spring Boot 和前端的集成</h3><p>在现代 Web 应用中，Spring Boot 通常用作后端服务，而前端框架（如 Angular、React 和 Vue.js）负责构建用户界面。以下是关于如何在 Spring Boot 中集成前端的详细讲解，包括使用 Thymeleaf 模板引擎以及 RESTful API 与前端框架的集成。</p>
<h4 id="1-使用-Thymeleaf"><a href="#1-使用-Thymeleaf" class="headerlink" title="1. 使用 Thymeleaf"></a>1. 使用 Thymeleaf</h4><h5 id="模板引擎的基本使用"><a href="#模板引擎的基本使用" class="headerlink" title="模板引擎的基本使用"></a>模板引擎的基本使用</h5><p><strong>Thymeleaf</strong> 是一个用于 Java 的现代服务器端模板引擎，专注于在 Web 和独立环境下的实现。它提供了自然模板支持，可以与 HTML 文件无缝结合，使得模板可以被浏览器直接渲染。</p>
<p><strong>依赖</strong>:</p>
<p>在 <code>pom.xml</code> 中添加 Thymeleaf 依赖。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>基本配置</strong>:</p>
<p>Spring Boot 默认配置了 Thymeleaf。因此，我们只需创建 HTML 模板文件并将其放在 <code>src/main/resources/templates</code> 目录下。</p>
<p><strong>示例模板</strong> (<code>src/main/resources/templates/index.html</code>):</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Thymeleaf Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;title&#125;&quot;</span>&gt;</span>Welcome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">th:each</span>=<span class="string">&quot;user : $&#123;users&#125;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user.name&#125;&quot;</span>&gt;</span>User Name<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>控制器</strong>:</p>
<p>创建一个 Spring MVC 控制器来处理请求并返回视图名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HomeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;Welcome to Thymeleaf&quot;</span>);</span><br><span class="line">        List&lt;User&gt; users = Arrays.asList(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Alice&quot;</span>), <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">        model.addAttribute(<span class="string">&quot;users&quot;</span>, users);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>; <span class="comment">// 返回 index.html</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>用户类</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="动态内容生成"><a href="#动态内容生成" class="headerlink" title="动态内容生成"></a>动态内容生成</h5><p>通过使用 Thymeleaf，您可以动态生成内容。例如，您可以根据用户输入或数据库内容生成列表、表格等。</p>
<p><strong>动态表单示例</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/submit&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter your name&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>控制器处理表单提交：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/submit&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">submitForm</span><span class="params">(<span class="meta">@RequestParam</span> String username, Model model)</span> &#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;Hello, &quot;</span> + username);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;result&quot;</span>; <span class="comment">// 返回结果视图</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-RESTful-API-和前端框架"><a href="#2-RESTful-API-和前端框架" class="headerlink" title="2. RESTful API 和前端框架"></a>2. RESTful API 和前端框架</h4><p>现代前端框架（如 Angular、React 和 Vue.js）通常通过 RESTful API 与后端进行通信。Spring Boot 提供了便捷的方式来构建 RESTful API。</p>
<h5 id="创建-RESTful-API"><a href="#创建-RESTful-API" class="headerlink" title="创建 RESTful API"></a>创建 RESTful API</h5><p>创建一个基本的 RESTful API 控制器。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserApiController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">getUsers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Alice&quot;</span>), <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Bob&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">createUser</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        <span class="comment">// 在此处可以将用户信息保存到数据库</span></span><br><span class="line">        <span class="keyword">return</span> user; <span class="comment">// 返回创建的用户</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="集成前端框架"><a href="#集成前端框架" class="headerlink" title="集成前端框架"></a>集成前端框架</h5><ol>
<li><p><strong>Angular 集成</strong>:</p>
<ul>
<li>使用 Angular CLI 创建一个 Angular 项目。</li>
<li>在 Angular 服务中使用 <code>HttpClient</code> 发送请求。</li>
</ul>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClient</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Observable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;rxjs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">User</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./user.model&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">    <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> apiUrl = <span class="string">&#x27;http://localhost:8080/api/users&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="attr">http</span>: <span class="title class_">HttpClient</span></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getUsers</span>(): <span class="title class_">Observable</span>&lt;<span class="title class_">User</span>[]&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">get</span>&lt;<span class="title class_">User</span>[]&gt;(<span class="variable language_">this</span>.<span class="property">apiUrl</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">createUser</span>(<span class="attr">user</span>: <span class="title class_">User</span>): <span class="title class_">Observable</span>&lt;<span class="title class_">User</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">post</span>&lt;<span class="title class_">User</span>&gt;(<span class="variable language_">this</span>.<span class="property">apiUrl</span>, user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在组件中调用服务方法。</li>
</ul>
</li>
<li><p><strong>React 集成</strong>:</p>
<ul>
<li>使用 <code>create-react-app</code> 创建一个 React 项目。</li>
<li>使用 <code>axios</code> 或 <code>fetch</code> 发送请求。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useEffect, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> [users, setUsers] = <span class="title function_">useState</span>([]);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">fetchUsers</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">            <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8080/api/users&#x27;</span>);</span><br><span class="line">            <span class="title function_">setUsers</span>(response.<span class="property">data</span>);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="title function_">fetchUsers</span>();</span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>User List<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;users.map(user =&gt; (</span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;user.name&#125;</span>&gt;</span>&#123;user.name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                ))&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Vue.js 集成</strong>:</p>
<ul>
<li>使用 Vue CLI 创建一个 Vue 项目。</li>
<li>使用 <code>axios</code> 发送请求。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>User List<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;user in users&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;user.name&quot;</span>&gt;</span>&#123;&#123; user.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">users</span>: []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        axios.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8080/api/users&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">users</span> = response.<span class="property">data</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="10-Spring-Boot-测试"><a href="#10-Spring-Boot-测试" class="headerlink" title="10. Spring Boot 测试"></a>10. Spring Boot 测试</h3><ul>
<li><strong>测试的基本概念</strong></li>
<li><strong>单元测试与集成测试</strong></li>
<li><strong>使用 JUnit 和 Mockito</strong></li>
<li><strong>Spring Boot 的测试支持</strong><ul>
<li><code>@SpringBootTest</code></li>
<li>MockMvc</li>
</ul>
</li>
</ul>
<h3 id="11-Spring-Boot-的性能优化"><a href="#11-Spring-Boot-的性能优化" class="headerlink" title="11. Spring Boot 的性能优化"></a>11. Spring Boot 的性能优化</h3><ul>
<li><strong>Profiling 和监控</strong></li>
<li><strong>连接池配置</strong></li>
<li><strong>Caffeine 和 Redis 缓存集成</strong></li>
</ul>
<h3 id="12-Spring-Boot-的部署"><a href="#12-Spring-Boot-的部署" class="headerlink" title="12. Spring Boot 的部署"></a>12. Spring Boot 的部署</h3><p>在开发完 Spring Boot 应用后，部署是将应用发布到生产环境的重要步骤。以下是关于如何打包和运行 Spring Boot 应用、部署到云环境、以及使用 Docker 进行容器化的详细讲解。</p>
<h4 id="1-打包和运行"><a href="#1-打包和运行" class="headerlink" title="1. 打包和运行"></a>1. 打包和运行</h4><h5 id="JAR-和-WAR-包的打包"><a href="#JAR-和-WAR-包的打包" class="headerlink" title="JAR 和 WAR 包的打包"></a>JAR 和 WAR 包的打包</h5><p>Spring Boot 可以将应用打包为可执行的 JAR 或 WAR 文件。</p>
<p><strong>JAR 包的打包</strong>:</p>
<p>在 <code>pom.xml</code> 中，Spring Boot 默认配置为打包 JAR 文件。您可以使用以下命令打包应用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package</span><br></pre></td></tr></table></figure>

<p>打包完成后，您可以在 <code>target</code> 目录中找到生成的 JAR 文件。使用以下命令运行 JAR 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar target/your-application.jar</span><br></pre></td></tr></table></figure>

<p><strong>WAR 包的打包</strong>:</p>
<p>如果您希望将应用打包为 WAR 文件（通常用于传统的 Servlet 容器如 Tomcat），需要在 <code>pom.xml</code> 中进行一些配置。首先，确保您的 <code>SpringBootApplication</code> 类扩展自 <code>SpringBootServletInitializer</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.support.SpringBootServletInitializer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YourApplication</span> <span class="keyword">extends</span> <span class="title class_">SpringBootServletInitializer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(YourApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 <code>pom.xml</code> 中，修改 <code>&lt;packaging&gt;</code> 元素：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后，可以使用相同的命令打包应用，生成的 WAR 文件将位于 <code>target</code> 目录中。您可以将这个 WAR 文件部署到支持 Servlet 的 Web 服务器（如 Tomcat）。</p>
<h4 id="2-部署到云环境"><a href="#2-部署到云环境" class="headerlink" title="2. 部署到云环境"></a>2. 部署到云环境</h4><h5 id="AWS"><a href="#AWS" class="headerlink" title="AWS"></a>AWS</h5><p>在 AWS 上部署 Spring Boot 应用的常见方法是通过 Elastic Beanstalk 或 EC2。</p>
<p><strong>使用 Elastic Beanstalk</strong>:</p>
<ol>
<li>确保您已安装 AWS CLI，并配置您的 AWS 凭证。</li>
<li>使用 Elastic Beanstalk CLI 创建应用程序。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eb init</span><br><span class="line">eb create your-environment-name</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>部署您的应用：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eb deploy</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>访问您的应用 URL。</li>
</ol>
<h5 id="Azure"><a href="#Azure" class="headerlink" title="Azure"></a>Azure</h5><p>在 Azure 上，您可以使用 Azure App Service 来部署 Spring Boot 应用。</p>
<ol>
<li>创建 Azure App Service 实例。</li>
<li>使用 Azure CLI 登录并设置应用服务。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">az login</span><br><span class="line">az appservice plan create --name your-app-service-plan --resource-group your-resource-group --sku B1 --is-linux</span><br><span class="line">az webapp create --resource-group your-resource-group --plan your-app-service-plan --name your-app-name --runtime <span class="string">&quot;JAVA|11-java11&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>部署应用：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">az webapp deploy --resource-group your-resource-group --name your-app-name --src-path target/your-application.jar</span><br></pre></td></tr></table></figure>

<h5 id="Heroku"><a href="#Heroku" class="headerlink" title="Heroku"></a>Heroku</h5><p>在 Heroku 上部署 Spring Boot 应用也非常简单。</p>
<ol>
<li>安装 Heroku CLI，然后登录：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heroku login</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建新的 Heroku 应用并设置 buildpack：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">heroku create your-app-name</span><br><span class="line">heroku buildpacks:<span class="built_in">set</span> heroku/java</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>部署 JAR 文件：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">heroku deploy:jar target/your-application.jar</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>访问您的应用 URL。</li>
</ol>
<h4 id="3-Docker-与-Spring-Boot"><a href="#3-Docker-与-Spring-Boot" class="headerlink" title="3. Docker 与 Spring Boot"></a>3. Docker 与 Spring Boot</h4><h5 id="创建-Dockerfile"><a href="#创建-Dockerfile" class="headerlink" title="创建 Dockerfile"></a>创建 Dockerfile</h5><p>Docker 是一个流行的容器化技术，您可以将 Spring Boot 应用容器化，以便于部署和管理。</p>
<p>在项目根目录下创建一个 <code>Dockerfile</code>，如下所示：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用官方 Java 运行时作为基础镜像</span></span><br><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">11</span>-jdk-slim</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设定工作目录</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 JAR 文件复制到容器中</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/your-application.jar app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 暴露应用的端口</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行应用</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h5 id="容器化-Spring-Boot-应用"><a href="#容器化-Spring-Boot-应用" class="headerlink" title="容器化 Spring Boot 应用"></a>容器化 Spring Boot 应用</h5><ol>
<li>构建 Docker 镜像：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t your-image-name .</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>运行 Docker 容器：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8080:8080 your-image-name</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>访问您的应用：</li>
</ol>
<p>通过 <code>http://localhost:8080</code> 访问应用。</p>
<h5 id="使用-Docker-Compose（可选）"><a href="#使用-Docker-Compose（可选）" class="headerlink" title="使用 Docker Compose（可选）"></a>使用 Docker Compose（可选）</h5><p>如果您的应用依赖于数据库或其他服务，可以使用 Docker Compose 管理多容器应用。创建一个 <code>docker-compose.yml</code> 文件：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">your-image-name</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:8080&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_URL:</span> <span class="string">jdbc:mysql://db:3306/your_database</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_USERNAME:</span> <span class="string">your_username</span></span><br><span class="line">      <span class="attr">SPRING_DATASOURCE_PASSWORD:</span> <span class="string">your_password</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">your_password</span></span><br><span class="line">      <span class="attr">MYSQL_DATABASE:</span> <span class="string">your_database</span></span><br></pre></td></tr></table></figure>

<p>然后，使用以下命令启动所有服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up</span><br></pre></td></tr></table></figure>

<h3 id="13-微服务架构"><a href="#13-微服务架构" class="headerlink" title="13. 微服务架构"></a>13. 微服务架构</h3><ul>
<li><strong>微服务基础知识</strong></li>
<li><strong>使用 Spring Cloud</strong><ul>
<li>服务注册与发现（Eureka）</li>
<li>API 网关（Zuul 或 Spring Cloud Gateway）</li>
<li>配置管理（Spring Cloud Config）</li>
</ul>
</li>
</ul>
<h3 id="14-实战项目"><a href="#14-实战项目" class="headerlink" title="14. 实战项目"></a>14. 实战项目</h3><ul>
<li><strong>综合实战项目</strong><ul>
<li>设计与实现一个完整的应用（例如，电商平台、博客系统等）</li>
</ul>
</li>
<li><strong>项目的优化与重构</strong></li>
</ul>
<h3 id="15-学习资源与社区"><a href="#15-学习资源与社区" class="headerlink" title="15. 学习资源与社区"></a>15. 学习资源与社区</h3><ul>
<li><strong>官方文档</strong></li>
<li><strong>书籍推荐</strong></li>
<li><strong>在线课程与视频</strong></li>
<li><strong>开源项目与 GitHub</strong></li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>学习 Spring Boot 2 是一个循序渐进的过程，建议根据学习大纲逐步深入，实践中不断巩固所学知识。通过创建简单的项目、逐步增加复杂度，并结合实际应用场景，能够更好地掌握 Spring Boot 的核心理念和实践技巧。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%90%8E%E7%AB%AF/" rel="tag"># 后端</a>
              <a href="/tags/springboot2/" rel="tag"># springboot2</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/07/22/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0%E5%A4%A7%E7%BA%B2/" rel="prev" title="小程序学习大纲">
                  <i class="fa fa-angle-left"></i> 小程序学习大纲
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/07/22/springboot2%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="next" title="springboot2性能优化">
                  springboot2性能优化 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">june chiu</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
